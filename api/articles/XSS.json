{"title":"小白谈XSS","slug":"XSS","date":"2018-04-10T05:20:16.000Z","updated":"2018-04-10T12:55:44.399Z","comments":true,"path":"api/articles/XSS.json","photos":[],"link":"","excerpt":"小白谈XSS<br>","covers":null,"content":"<p>小白谈XSS<br><a id=\"more\"></a></p>\n<h1 id=\"存储型XSS（后台）\"><a href=\"#存储型XSS（后台）\" class=\"headerlink\" title=\"存储型XSS（后台）\"></a>存储型XSS（后台）</h1><h2 id=\"关键词：插入、存储在数据库、访问页面、读取数据库\"><a href=\"#关键词：插入、存储在数据库、访问页面、读取数据库\" class=\"headerlink\" title=\"关键词：插入、存储在数据库、访问页面、读取数据库\"></a>关键词：插入、存储在数据库、访问页面、读取数据库</h2><p>输入点插入XSS代码——&gt;保存在数据库中&lt;——用户访问（查看）页面</p>\n<h3 id=\"测试：发布、回复、标签\"><a href=\"#测试：发布、回复、标签\" class=\"headerlink\" title=\"测试：发布、回复、标签\"></a>测试：发布、回复、标签</h3><pre><code>&lt;img sec=x onerror=alert(1)&gt;\n</code></pre><h3 id=\"利用：\"><a href=\"#利用：\" class=\"headerlink\" title=\"利用：\"></a>利用：</h3><p>获取cookie测试</p>\n<pre><code>&lt;img src=x onerror=alert(document.cookie)&gt;\n</code></pre><h3 id=\"修复：\"><a href=\"#修复：\" class=\"headerlink\" title=\"修复：\"></a>修复：</h3><p>此处给一个之前看过的简单案例中的修复方法：</p>\n<p>strip_tags():处理HTML标签</p>\n<h1 id=\"反射型XSS（后台）\"><a href=\"#反射型XSS（后台）\" class=\"headerlink\" title=\"反射型XSS（后台）\"></a>反射型XSS（后台）</h1><h2 id=\"关键词：插入、数据库接收、访问URL、数据库输出\"><a href=\"#关键词：插入、数据库接收、访问URL、数据库输出\" class=\"headerlink\" title=\"关键词：插入、数据库接收、访问URL、数据库输出\"></a>关键词：插入、数据库接收、访问URL、数据库输出</h2><p>攻击者将XSS代码插入页面——&gt;数据库接收数据——&gt;欺骗用户访问带有XSS代码的URL——&gt;输出数据</p>\n<h3 id=\"测试：搜索（URL中必须有参数）\"><a href=\"#测试：搜索（URL中必须有参数）\" class=\"headerlink\" title=\"测试：搜索（URL中必须有参数）\"></a>测试：搜索（URL中必须有参数）</h3><p>查看参数的位置，实现标签/引号的闭合</p>\n<pre><code>&lt;scrip&gt;alert(1)&lt;/script&gt;\n</code></pre><h3 id=\"修复：-1\"><a href=\"#修复：-1\" class=\"headerlink\" title=\"修复：\"></a>修复：</h3><p>此处给一个之前看过的简单案例中的修复方法：</p>\n<p>htmlspecialchars():把预定义的字符转化为HTML实体</p>\n<h1 id=\"DOM（前端）\"><a href=\"#DOM（前端）\" class=\"headerlink\" title=\"DOM（前端）\"></a>DOM（前端）</h1><p>不涉及数据库的攻击</p>\n<p>攻击者将XSS代码插入页面——&gt;欺骗用户访问URL</p>\n<h3 id=\"测试：显示查看的关键词（前端JS显示）\"><a href=\"#测试：显示查看的关键词（前端JS显示）\" class=\"headerlink\" title=\"测试：显示查看的关键词（前端JS显示）\"></a>测试：显示查看的关键词（前端JS显示）</h3><h3 id=\"修复：-2\"><a href=\"#修复：-2\" class=\"headerlink\" title=\"修复：\"></a>修复：</h3><p>此处给一个之前看过的简单案例中的修复方法：</p>\n<p>text():规定返回元素的文本内容</p>\n","categories":[],"tags":[]}